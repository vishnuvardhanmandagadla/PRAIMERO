/* ══════════════════════════════════════════════════════════════
   ERP Model — Stacked Data Layers (Isometric 3D)

   Geometry
   ────────
   Stack  : 230 × 320 px, rotateX(25°) rotateY(-20°)
   Slab   : 220 × 170 × 18 px  (width × depth × thickness)
   Layers : 4, spaced 70 px apart  (Finance → Analytics, pink → indigo)
   Top face carries a specular highlight + inner panel frame.
   Edge faces use vertical gradients to sell top-down lighting.
   ══════════════════════════════════════════════════════════════ */

/* ── Scene ── */
.erp-model {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1200px;
}

.erp-model__stack {
  position: relative;
  width: 230px;
  height: 320px;
  transform-style: preserve-3d;
  transform: rotateX(25deg) rotateY(-20deg);
  animation: erpStackDrift 8s ease-in-out infinite;
}

@keyframes erpStackDrift {
  0%, 100% { transform: rotateX(25deg) rotateY(-25deg); }
  50%      { transform: rotateX(25deg) rotateY(-15deg); }
}


/* ══════════════════════════════════════════════════════════════
   Layers — each a 3D slab floating in the stack
   ══════════════════════════════════════════════════════════════ */
.erp-model__layer {
  position: absolute;
  width: 220px;
  height: 170px;
  left: 50%;
  top: 50%;
  transform-style: preserve-3d;
  transform:
    translate(-50%, -50%)
    translateY(calc(var(--i) * -70px + 105px));
  animation: erpLayerFloat 4s ease-in-out infinite;
  animation-delay: calc(var(--i) * -0.6s);
  transition: translate 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform;
}

@keyframes erpLayerFloat {
  0%, 100% { translate: 0 0 0; }
  50%      { translate: 0 -6px 0; }
}

.erp-model__layer:hover {
  translate: 0 -14px 0 !important;
}


/* ══════════════════════════════════════════════════════════════
   Faces — shared base
   ══════════════════════════════════════════════════════════════ */
.erp-model__face {
  position: absolute;
  backface-visibility: hidden;
}


/* ── Top face ──
   Carries the specular highlight + inner panel frame (::before)
   + accent bar (::after).                                       */
.erp-model__face--top {
  width: 220px;
  height: 170px;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  transform: rotateX(90deg) translateZ(9px);
  transition: box-shadow 0.4s ease;
  background:
    radial-gradient(circle at 28% 25%, rgba(255, 255, 255, 0.3) 0%, transparent 50%),
    var(--layer-top);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.erp-model__layer:hover .erp-model__face--top {
  box-shadow:
    0 4px 20px rgba(0, 0, 0, 0.1),
    0 0 35px var(--layer-glow);
}

/* Inner panel frame */
.erp-model__face--top::before {
  content: '';
  position: absolute;
  inset: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  pointer-events: none;
}

/* Accent bar — subtle data indicator */
.erp-model__face--top::after {
  content: '';
  position: absolute;
  bottom: 16px;
  left: 16px;
  width: var(--bar-w, 38%);
  height: 3px;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.18);
  pointer-events: none;
}


/* ── Front face ── */
.erp-model__face--front {
  width: 220px;
  height: 18px;
  top: calc(50% - 9px);
  border-radius: 0 0 4px 4px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-top: none;
  background: var(--layer-front);
  transform: translateZ(85px);
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.12);
}

/* ── Back face ── */
.erp-model__face--back {
  width: 220px;
  height: 18px;
  top: calc(50% - 9px);
  background: var(--layer-dark);
  transform: rotateY(180deg) translateZ(85px);
}

/* ── Left face ── */
.erp-model__face--left {
  width: 170px;
  height: 18px;
  top: calc(50% - 9px);
  left: calc(50% - 85px);
  border-radius: 0 0 4px 4px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-top: none;
  background: var(--layer-side);
  transform: rotateY(-90deg) translateZ(110px);
}

/* ── Right face ── */
.erp-model__face--right {
  width: 170px;
  height: 18px;
  top: calc(50% - 9px);
  left: calc(50% - 85px);
  border-radius: 0 0 4px 4px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-top: none;
  background: var(--layer-front);
  transform: rotateY(90deg) translateZ(110px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
}


/* ══════════════════════════════════════════════════════════════
   Layer colors — bottom (0) to top (3), pink → indigo
   Each layer defines:
     --layer-top   : top-face gradient
     --layer-front : front/right edge gradient (lit side)
     --layer-side  : left edge gradient (shaded side)
     --layer-dark  : back edge / shadow colour
     --layer-glow  : hover glow colour
     --bar-w       : accent bar width (varies per layer)
   ══════════════════════════════════════════════════════════════ */

/* ── 0 · Finance — pink ── */
.erp-model__layer[style*="--i: 0"] {
  --layer-top:   linear-gradient(135deg, #ebb4ce 0%, #e09abc 100%);
  --layer-front: linear-gradient(0deg, #b87898 0%, #d494b2 100%);
  --layer-side:  linear-gradient(0deg, #ae7090 0%, #c88aa8 100%);
  --layer-dark:  #9e6484;
  --layer-glow:  rgba(232, 164, 196, 0.55);
  --label-color: #7a2e50;
  --bar-w: 45%;
}

/* ── 1 · Supply Chain — lavender ── */
.erp-model__layer[style*="--i: 1"] {
  --layer-top:   linear-gradient(135deg, #bca8d8 0%, #a088c8 100%);
  --layer-front: linear-gradient(0deg, #8868a8 0%, #a888c0 100%);
  --layer-side:  linear-gradient(0deg, #8060a0 0%, #9878b4 100%);
  --layer-dark:  #705890;
  --layer-glow:  rgba(149, 117, 205, 0.55);
  --label-color: #4a2878;
  --bar-w: 55%;
}

/* ── 2 · HCM — blue ── */
.erp-model__layer[style*="--i: 2"] {
  --layer-top:   linear-gradient(135deg, #94a2da 0%, #7e90cc 100%);
  --layer-front: linear-gradient(0deg, #6672aa 0%, #8090c4 100%);
  --layer-side:  linear-gradient(0deg, #5e6aa2 0%, #7684b8 100%);
  --layer-dark:  #55609a;
  --layer-glow:  rgba(121, 134, 203, 0.55);
  --label-color: #2e3e78;
  --bar-w: 35%;
}

/* ── 3 · Analytics — indigo ── */
.erp-model__layer[style*="--i: 3"] {
  --layer-top:   linear-gradient(135deg, #7888d0 0%, #6274c2 100%);
  --layer-front: linear-gradient(0deg, #4a5aa4 0%, #6270b8 100%);
  --layer-side:  linear-gradient(0deg, #4452a0 0%, #5a68b0 100%);
  --layer-dark:  #3c4a92;
  --layer-glow:  rgba(92, 107, 192, 0.55);
  --label-color: #1e2a60;
  --bar-w: 60%;
}


/* ══════════════════════════════════════════════════════════════
   Labels — sit on the top face, readable from isometric view
   ══════════════════════════════════════════════════════════════ */
.erp-model__label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(-90deg) translateZ(11px);
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  white-space: nowrap;
  color: var(--label-color, #2e2e50);
  text-shadow: 0 0 12px rgba(255, 255, 255, 0.6);
  pointer-events: none;
}
